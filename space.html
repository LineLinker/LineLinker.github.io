<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Space</title>
	<link rel="stylesheet" href="css/body.css">
    <link rel="stylesheet" href="css/nav.css">
</head>
<style>
.mid{
    /*将元素的高度和宽度分别设置为视口高度和宽度的 100%*/
    height: 100vh;
    width: 100vw;
}
/*轮播图*/
.banner{
    list-style: none;/*去除列表默认样式*/
    position: absolute;/*绝对定位*/
    padding: 0;
    margin: auto;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    width: 1150px;
    height: 421px;
    animation: imgload1 1s linear;
}
.banner li{
    /*将子元素设置为浮动，绝对定位在左侧*/
    float: left;
    position: absolute;
    left: 0px;
    transition-duration: 0.4s;/*过渡时间*/
    overflow: hidden;
}
.banner img{
    transition: all .5s;/*过渡效果设置为 0.5 秒*/
    filter: grayscale(0.5);/* 50% 灰度*/
}
.banner img:hover{
    transform: scale(1.1);/*鼠标悬停时缩放 1.1 倍*/
    filter: grayscale(0);/*图像的灰度设置为 0*/
}
/*小圆点*/
.banner div{
    width: 20px;
    height: 20px;
    position: absolute;/*绝对定位到底部*/
    border-radius: 50%;
    background: rgb(123, 168, 175);
    float: left;
    bottom: -100px;
}
@keyframes imgload1{
    0%{
        opacity: 0;
        margin-top: 300px;
    }100%{
        opacity: 1;
        margin-top: 170px;
    }
}
</style>
<body>
	<nav class="homenav">
        <div class="navtitle"><strong>Yye</strong>|MY WORKS</div>
        <a href="Home.html">HOME</a>
        <a href="Search.html">SEARCH</a>
        <a href="Show.html">SHOW</a>
        <a href="Space.html">SPACE</a>
        <a href="Other.html">OTHER</a>
        <div class="navanim space"></div>
        <div class="none"></div>
    </nav>
    <div class="mid">
        <ul id="banner" class="banner"></ul>
    </div>
    <footer class="foot">
    	<p>星空轮播图页面 &nbsp;&nbsp;&nbsp; ©Create By YYE</p>
    	<p onclick="Resource()"><a href="#" style="text-decoration: none; color: cyan;">Resource</a></p>
    </footer>
</body>
<script>
/*自动轮播*/
window.onload=function()
{
    setTimeout(getpre,1000);// 延时1秒后执行getpre函数
    timer=setInterval(getpre,3000);// 每隔3秒执行一次getpre函数
    var pics=new Array();// 创建一个存放图片的数组
    var dots=new Array();// 创建一个存放下方五个点的数组
    var banner=document.getElementById('banner');
    for(var i=1;i<=5;i++){
        var lbli=document.createElement('li');
        var lbimg=document.createElement('img');
        /*五张星空图*/
        switch(i) {
        case 1:
            lbimg.src = "https://pic2.zhimg.com/v2-4140af78cd90201a338a189ad7dbeda6_r.jpg?source=1940ef5c";
            break;
        case 2:
            lbimg.src = "https://pic3.zhimg.com/v2-eb82fba6abe990cd0f15a74f11b939b2_r.jpg";
            break;
        case 3:
            lbimg.src = "https://i0.hdslb.com/bfs/article/06d15c16c7afcceb0169438f46eddc5ed40eac22.jpg@942w_630h_progressive.webp";
            break;
        case 4:
            lbimg.src = "https://pica.zhimg.com/80/v2-3740425599109fd793669bc8870c3109_720w.webp?source=1940ef5c";
            break;
        case 5:
            lbimg.src = "https://i0.hdslb.com/bfs/article/6f6111a40239c2152092dd98ff118fc7472df16d.jpg@942w_531h_progressive.webp";
            break;
    	}
        /*大小*/
        lbimg.style.width="750px"
        lbimg.style.height="421px"
        lbli.appendChild(lbimg);// 把图片添加到li元素中
        banner.appendChild(lbli); // 把li元素添加到banner中
        pics.push(lbli);// 把li元素添加到pics数组中
        pics[pics.length-1].style.left="0px"; // 设置li元素的left值
        lbimg.onmouseenter=function(){// 鼠标移入图片时清除定时器
            clearInterval(timer);
        }
        lbimg.onmouseleave=function(){// 鼠标移出图片时重新启动定时器
            timer=setInterval(getpre,3000);
        }    
        var bottomdot=document.createElement("div");//创建一个div
        bottomdot.style.left=140*(i+1)+"px"; // 设置div元素的left值
        bottomdot.name=i;// 给div元素添加name属性
        dots.push(bottomdot);// 把div元素添加到dots数组中
        banner.appendChild(bottomdot);// 把div元素添加到banner中
        if(i>3){  // 当i大于3时
            lbli.id=i-3;  // 设置li元素的id值
        }else{  // 当i不大于3时
            lbli.id=i+2;  // 设置li元素的id值
        }
    }
	// 获取图片数组的长度并存储在变量len中
    var len = pics.length - 1;
    // 将倒数第三张图片的left值设为0，即让其显示在屏幕中间
    pics[len-2].style.left = "0px";
    // 将倒数第三张图片的透明度设为0.5，使其半透明显示
    pics[len-2].style.opacity = 0.5;
    // 将倒数第四张图片的透明度设为0，即不显示
    pics[len-3].style.opacity = 0;
    // 将倒数第五张图片的透明度设为0，即不显示
    pics[len-4].style.opacity = 0;
    // 将倒数第二张图片的层级设为100，使其显示在最上层
    pics[len-1].style.zIndex = 100;
    // 将倒数第二张图片的left值设为200px，即显示在屏幕右侧
    pics[len-1].style.left = "200px";
    // 将倒数第二张图片的缩放比例设为1.3，使其变大
    pics[len-1].style.transform = "scale(1.3)";
    // 将倒数第二张图片的透明度设为1，完全显示
    pics[len-1].style.opacity = 1;
    // 将最后一张图片的left值设为400px，即显示在屏幕右侧之外
    pics[len].style.left = "400px";
    // 将最后一张图片的透明度设为0.5，使其半透明显示
    pics[len].style.opacity = 0.5;


/*下一张*/
function getnext(){
    // 取出最后一张图片
    var give_up = pics[len];
    // 从数组中移除最后一张图片
    pics.pop();
    // 在数组的开头插入最后一张图片
    pics.unshift(give_up);
    // 重新排列图片的层叠顺序和缩放大小
    for(var i=0;i<pics.length;i++){
        pics[i].style.zIndex=i;
        pics[i].style.transform="scale(1)";
    }
    // 调整当前显示图片和前后两张图片的位置和透明度等样式
    pics[len-2].style.left="0px";
    pics[len-2].style.opacity=0.5;
    pics[len-3].style.opacity=0;
    pics[len-4].style.opacity=0;
    pics[len-1].style.zIndex=100;
    pics[len-1].style.left="200px";
    pics[len-1].style.transform="scale(1.3)";
    pics[len-1].style.opacity=1;
    pics[len].style.left="400px";
    pics[len].style.opacity=0.5;

    // 更新底部小圆点的状态
    dotmov();
    // 点击当前显示图片的左边图片时触发 getnext 函数
    pics[len-2].onclick=function(){
        getnext();
    }
    // 点击当前显示图片的右边图片时触发 getpre 函数
    pics[len].onclick=function(){
        getpre();
    }
}

/*得到前一张*/
function getpre(){
    //将数组中的第一个元素存储到变量give_up中
    var give_up=pics[0];
    //将give_up元素添加到数组的末尾
    pics.push(give_up);
    //删除数组的第一个元素
    pics.shift();
    //遍历数组中的元素
    for(var i=0;i<pics.length;i++){
        //设置每个元素的层叠顺序
        pics[i].style.zIndex=i;
        //设置每个元素的缩放比例
        pics[i].style.transform="scale(1)";
    }
    //将倒数第二个元素的left属性设置为0px
    pics[len-2].style.left="0px";
    //将倒数第二个元素的透明度设置为0.5
    pics[len-2].style.opacity=0.5;
    //将倒数第三个元素的透明度设置为0
    pics[len-3].style.opacity=0;
    //将倒数第四个元素的透明度设置为0
    pics[len-4].style.opacity=0;
    //将最后一个元素的层叠顺序设置为100
    pics[len-1].style.zIndex=100;
    //将最后一个元素的left属性设置为200px
    pics[len-1].style.left="200px";
    //将最后一个元素的缩放比例设置为1.3
    pics[len-1].style.transform="scale(1.3)";
    //将最后一个元素的透明度设置为1
    pics[len-1].style.opacity=1;
    //将倒数第一个元素的left属性设置为400px
    pics[len].style.left="400px";
    //将倒数第一个元素的透明度设置为0.5
    pics[len].style.opacity=0.5;
    //调用函数dotmov()
    dotmov();
    //为倒数第二个元素添加点击事件，点击触发函数getnext()
    pics[len-2].onclick=function(){
        getnext();
    }
    //为最后一个元素添加点击事件，点击触发函数getpre()
    pics[len].onclick=function(){
        getpre();
    }
}
//将dots数组中第一个元素的背景颜色设置为rgb(48, 72, 77)
dots[0].style.background="rgb(48, 72, 77)";
function dotmov(){
    //遍历dots数组中的元素
    for(var i=0;i<dots.length;i++){
        //判断当前元素的name属性是否与pics数组中最后一个元素的id属性相等
        if(dots[i].name==pics[len-1].id){
            //将当前元素的背景颜色设置为rgb(48, 72, 77)
            dots[i].style.background="rgb(48, 72, 77)";
        }else{
            //将当前元素的背景颜色设置为rgb(123, 168, 175)
            dots[i].style.background="rgb(123, 168, 175)";
        }
    }
}
}

function Resource(){
	window.open("https://www.bing.com/images/search?q=%E5%A3%81%E7%BA%B8%E5%9B%BE%20%20%E6%98%9F%E7%A9%BA&qs=n&form=QBIR&sp=-1&lq=0&pq=%E5%A3%81%E7%BA%B8%E5%9B%BE%20%20%E6%98%9F%E7%A9%BA&sc=0-7&cvid=3EC85A300C294C269F28003D6992C892&ghsh=0&ghacc=0&first=1", "_blank");
}
</script>
</html>
